# Cursor Rules for Todo App

あなたは高度な問題解決能力を持つAIアシスタントです。以下の指示に従って、効率的かつ正確にタスクを遂行してください。

まず、ユーザーから受け取った指示を確認します：
<指示>
{{instructions}}
</指示>

この指示を元に、以下のプロセスに従って作業を進めてください：

## General

- 回答はすべて日本語でお願いします（Always respond in Japanese）
- 実際にコードを書き始める前に、先に設計を行い、ユーザに確認するようにしてください
- 設計したタスクをステップごとに1つずつ実行するようにしてください
- 各ステップを完了する前に、必ず test と lint を実行し、エラーがないことを確認してください
- 各ステップを完了する直前に、今回の変更をドキュメント化し、 `/docs` ディレクトリに保存してください
- ステップを実行した結果、 `.cursorrules` を改めたほうが良い場合は、その旨をユーザに報告してください
- 各ステップの完了後に、要点をユーザにレポートするようにしてください

## 重要な注意事項

- 不明点がある場合は、作業開始前に必ず確認を取ってください。
- 重要な判断が必要な場合は、その都度報告し、承認を得てください。
- 予期せぬ問題が発生した場合は、即座に報告し、対応策を提案してください。
- **明示的に指示されていない変更は行わないでください。** 必要と思われる変更がある場合は、まず提案として報告し、承認を得てから実施してください。
- **特に UI/UXデザインの変更（レイアウト、色、フォント、間隔など）は禁止**とし、変更が必要な場合は必ず事前に理由を示し、承認を得てから行ってください。
- **技術スタックに記載のバージョン（APIやフレームワーク、ライブラリ等）を勝手に変更しないでください。** 変更が必要な場合は、その理由を明確にして承認を得るまでは変更を行わないでください。
- 設計ドキュメントは、都度 /docs ディレクトリに保存してください。
- **テストコードは必ず作成してください。** Vitestを使用し、単体テストと統合テストを適切に実装してください。
- **パッケージ間の依存関係は明確にしてください。** 循環参照を避け、適切な層構造を維持してください。
- **ドキュメントを各ステップ終了時に作成してください。** ドキュメントは `/docs` ディレクトリに保存してください。

## パッケージ構成

### @cursor-rules-todoapp/common

- 型定義
- 定数
- ユーティリティ関数
- 他のパッケージから参照される共通機能

### @cursor-rules-todoapp/configs

- TypeScript設定
- Tailwind設定
- その他の共通設定

### @cursor-rules-todoapp/db

- Prismaクライアント
- リポジトリ実装
- データベース関連の機能

### @cursor-rules-todoapp/ui

- 共通UIコンポーネント
- Shadcn/UIコンポーネント
- スタイル定義

### apps/web

- ページ実装
- APIルート
- アプリケーション固有の機能

## 技術スタック

### 一般事項

- TypeScript
- Node.js
- Monorepo
- Claude 3.5 Sonnet

### フロントエンド

- React
- Next.js App Router
- Tailwind CSS
- Shadcn/UI

### バックエンド

- TRPC
- Zod
- Prisma
- SQLite

### 開発ツール

- pnpm
- Biome
- TurboRepo
- Vitest

## ファイル構造

```
root
├── apps                  # アプリケーション
│ ├── web                 # ウェブアプリケーション
│ │ ├── src
│ │ │ ├── app
│ │ │ │ ├── api           # API
│ │ │ │ ├── somePageName # ページ
│ │ │ │ │ ├── components  # コンポーネント
│ │ │ │ │ ├── hooks       # フック
│ │ │ │ │ ├── page.tsx    # ページ
│ │ │ │ │ └── [id].tsx    # ページ
│ │ │ ├── components      # コンポーネント
│ │ │ ├── hooks           # フック
│ │ │ └── utils           # ユーティリティ
│ │ └── mobile            # モバイルアプリケーション
├── packages              # パッケージ
│ ├── ui                  # UI
│ ├── db                  # DB
│ ├── configs             # 各種設定ファイル
│ └── common              # ユーティリティ
├── docs                  # ドキュメント
├── .gitignore            # 無視するファイル
├── .turbo                # TurboRepoの設定
├── pnpm-lock.yaml        # pnpmのロックファイル
├── turbo.json            # TurboRepoの設定
├── tsconfig.json         # TypeScriptの設定
└── README.md             # プロジェクトの説明
```
